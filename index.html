<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feel Coast — Coming Soon</title>

<meta name="description" content="Curated beach & sunset events. Coming soon." />

<style>
/* =====================
   RESET
===================== */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  overflow: hidden;
}

/* =====================
   ABOUT TRANSITION (fake scroll page)
===================== */
.about-overlay {
  position: fixed;
  inset: 0;
  z-index: 6;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 80px 28px 120px;
  backdrop-filter: blur(0px);
  background: rgba(0,0,0,0);
  transform: translateY(100%);
  transition: transform 0.8s ease, backdrop-filter 0.8s ease, background 0.8s ease;
}

.about-overlay.active {
  transform: translateY(0);
  backdrop-filter: blur(12px);
  background: rgba(0,0,0,0.35);
}

.about-content {
  max-width: 520px;
  color: rgba(255,255,255,0.92);
  line-height: 1.6;
}

.about-title {
  font-size: 18px;
  letter-spacing: 0.35em;
  margin-bottom: 18px;
}

.about-text {
  font-size: 15px;
  opacity: 0.85;
}
}

/* =====================
   VIDEO BACKGROUND
===================== */
.video-bg {
  position: fixed;
  inset: 0;
  z-index: 1;
}

.video-bg video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: contrast(1.15) saturate(0.85) brightness(0.9);
}

/* =====================
   EFFECTS
===================== */
.vignette {
  position: fixed;
  inset: 0;
  z-index: 2;
  background: radial-gradient(
    ellipse at center,
    rgba(0,0,0,0.15) 0%,
    rgba(0,0,0,0.6) 70%,
    rgba(0,0,0,0.9) 100%
  );
  pointer-events: none;
}

.grain {
  position: fixed;
  inset: 0;
  z-index: 3;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.04),
    rgba(255,255,255,0.04) 1px,
    transparent 1px,
    transparent 2px
  );
  opacity: 0.25;
  mix-blend-mode: overlay;
  animation: grainMove 0.8s steps(2) infinite;
  pointer-events: none;
}

/* =====================
   CENTER
===================== */
.center {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 4;
  text-align: center;
}

.placeholder {
  font-size: 22px;
  letter-spacing: 0.45em;
  color: rgba(255,255,255,0.85);
  white-space: nowrap;
  transition: opacity 0.6s ease;
}

.logo {
  width: 70vw;
  max-width: 320px;
  opacity: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  filter: drop-shadow(0 12px 30px rgba(0,0,0,0.6));
  transition: opacity 0.8s ease;
}

.show-logo .placeholder { opacity: 0; }
.show-logo .logo { opacity: 1; }

@keyframes grainMove {
  0% { transform: translate(0,0); }
  50% { transform: translate(-1%, 1%); }
  100% { transform: translate(1%, -1%); }
}

/* =====================
   TOP LEFT LOGO
===================== */
.corner-logo {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 5;
  width: 96px;
  opacity: 0.85;
  filter: blur(0.05px);
  pointer-events: none;
}

.corner-logo img {
  width: 100%;
  height: auto;
}

/* =====================
   TOP RIGHT MENU ICON
===================== */
.corner-menu {
  position: fixed;
  top: 22px;
  right: 22px;
  z-index: 5;
  width: 36px;
  opacity: 0.85;
  filter: blur(0.05px);
  cursor: pointer;
  pointer-events: auto;
}

.corner-menu img {
  width: 100%;
  height: auto;
}

/* =====================
   LOADER
===================== */
.loader {
  position: fixed;
  inset: 0;
  z-index: 10;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.8s ease;
}

.loader.hidden {
  opacity: 0;
  pointer-events: none;
}

.loader-text {
  max-width: 86vw;
  padding: 0 24px;
  text-align: center;
  color: rgba(255,255,255,0.9);
  line-height: 1.4;
}

.loader-quote {
  font-size: 18px;
  letter-spacing: 0.02em;
}

.loader-author {
  margin-top: 12px;
  font-size: 13px;
  letter-spacing: 0.25em;
  opacity: 0.7;
}

/* =====================
   SPONSORS STRIP (BOTTOM)
===================== */
.sponsors {
  position: fixed;
  left: 0;
  bottom: 16px;
  width: 100%;
  z-index: 4;
  overflow-x: auto;
  overflow-y: hidden;
  pointer-events: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.sponsors::-webkit-scrollbar { display: none; }

.sponsors-track {
  display: flex;
  gap: 28px;
  padding: 0 24px;
  width: max-content;
}

.sponsors-group {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 28px;
  white-space: nowrap;
}

.sponsor {
  height: 32px;
  display: flex;
  align-items: center;
}

.sponsor img {
  height: 100%;
  max-height: 32px;
  width: auto;
  opacity: 0.75;
  filter: grayscale(100%);
}
</style>
</head>

<body>

<!-- LOADER -->
<div class="loader" id="loader">
  <div class="loader-text">
    <div class="loader-quote">Loading</div>
    <div class="loader-author"></div>
  </div>
</div>

<!-- VIDEO -->
<div class="video-bg">
  <video id="video" muted playsinline preload="auto">
    <source src="8456361-hd_1080_1920_30fps.mp4" type="video/mp4">
  </video>
</div>

<!-- TOP LEFT LOGO -->
<div class="corner-logo">
  <img src="c66f4082-3131-4280-b821-ee43448d156a.png" alt="Feel Coast" loading="eager" decoding="async" />
</div>

<!-- TOP RIGHT MENU ICON -->
<div class="corner-menu" aria-label="Menu" role="button" tabindex="0">
  <img src="menu.png" alt="Menu" loading="eager" decoding="async" />
</div>

<!-- SPONSORS STRIP -->
<div class="sponsors" id="sponsors" style="display:none;">
  <div class="sponsors-track" id="sponsorsTrack">
    <div class="sponsors-group" id="sponsorsA"></div>
    <div class="sponsors-group" id="sponsorsB" aria-hidden="true"></div>
  </div>
</div>

<!-- EFFECTS -->
<div class="vignette"></div>
<div class="grain"></div>

<!-- ABOUT OVERLAY (fake second page) -->
<div class="about-overlay" id="aboutOverlay">
  <div class="about-content">
    <div class="about-title">ABOUT</div>
    <div class="about-text">
      Feel Coast creates curated sunset and night experiences across Zanzibar.
      
      Afrobeat, Amapiano, Reggae and Caribbean rhythms meet ocean views, warm air and a community that moves together.
      
      We partner with unique locations and brands to build intimate, high‑energy events where music, atmosphere and people connect.
      
      This is not just nightlife.
      
      It’s a rhythm. A place. A feeling.
    </div>
  </div>
</div>

<!-- CENTER CONTENT -->
<div class="center" id="center">
  <div class="placeholder" id="placeholder">COMING&nbsp;SOON</div>
  <img
    src="c66f4082-3131-4280-b821-ee43448d156a.png"
    alt="Feel Coast"
    class="logo"
    loading="lazy"
    decoding="async"
  />
</div>

<script>
const video = document.getElementById('video');
const center = document.getElementById('center');
const loader = document.getElementById('loader');
const LOGO_TIME = 10; // seconds

// =====================
// MENU LAZY LOAD
// =====================
const menuBtn = document.querySelector('.corner-menu');
let menuOpen = false;

async function openMenu() {
  if (menuOpen) return;
  try {
    const html = await fetch('menu.html', { cache: 'no-store' }).then(r => r.text());
    document.body.insertAdjacentHTML('beforeend', html);
    menuOpen = true;

    const observer = new MutationObserver(() => {
      if (!document.querySelector('.menu-overlay')) {
        menuOpen = false;
        observer.disconnect();
      }
    });

    observer.observe(document.body, { childList: true, subtree: true });
  } catch (e) {
    console.error('Menu load failed', e);
    menuOpen = false;
  }
}

menuBtn.addEventListener('click', openMenu);
menuBtn.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') openMenu();
});

let loaderHidden = false;
let videoReady = false;
let sponsorsReady = false;

// =====================
// EQUATORIAL QUOTES ROTATION
// =====================
const quotes = [
  { text: "One good thing about music, when it hits you, you feel no pain.", author: "Bob Marley" },
  { text: "Music is the weapon of the future.", author: "Fela Kuti" },
  { text: "Without music, life would be a mistake.", author: "Miriam Makeba" },
  { text: "Dance is the hidden language of the soul.", author: "Caribbean proverb" },
  { text: "Where words fail, rhythm speaks.", author: "Afro-Caribbean saying" }
];

const loaderQuoteEl = document.querySelector('.loader-quote');
const loaderAuthorEl = document.querySelector('.loader-author');
let quoteIndex = 0;

function rotateQuotes() {
  if (!loaderQuoteEl || !loaderAuthorEl) return;
  const q = quotes[quoteIndex % quotes.length];
  loaderQuoteEl.textContent = `"${q.text}"`;
  loaderAuthorEl.textContent = q.author;
  quoteIndex++;
}

rotateQuotes();
setInterval(rotateQuotes, 3200);

// =====================
// LOADER CONTROL
// =====================
function hideLoader() {
  if (loaderHidden) return;
  if (!videoReady || !sponsorsReady) return;
  loaderHidden = true;
  loader.classList.add('hidden');
}

// Safety fallback: never stay stuck
setTimeout(() => {
  videoReady = true;
  sponsorsReady = true;
  hideLoader();
}, 12000);

// =====================
// VIDEO READY
// =====================
video.addEventListener('canplaythrough', () => {
  videoReady = true;
  hideLoader();
}, { once: true });

video.play().catch(() => {});

// =====================
// FAKE PAGE SCROLL (About)
// =====================
const about = document.getElementById('aboutOverlay');
let aboutOpen = false;
let scrollLock = false;

function openAbout(){
  if (aboutOpen) return;
  aboutOpen = true;
  about.classList.add('active');
}

function closeAbout(){
  if (!aboutOpen) return;
  aboutOpen = false;
  about.classList.remove('active');
}

window.addEventListener('wheel', (e)=>{
  if (scrollLock) return;

  if (e.deltaY > 40 && !aboutOpen){
    scrollLock = true;
    openAbout();
    setTimeout(()=>scrollLock=false,800);
  }
  else if (e.deltaY < -40 && aboutOpen){
    scrollLock = true;
    closeAbout();
    setTimeout(()=>scrollLock=false,800);
  }
},{passive:true});

// Mobile swipe
let startY = 0;
window.addEventListener('touchstart', e=>{
  startY = e.touches[0].clientY;
},{passive:true});

window.addEventListener('touchend', e=>{
  const dy = e.changedTouches[0].clientY - startY;
  if (Math.abs(dy) < 50) return;

  if (dy < 0 && !aboutOpen) openAbout();
  if (dy > 0 && aboutOpen) closeAbout();
},{passive:true});(() => {});

video.addEventListener('timeupdate', () => {
  if (video.currentTime >= LOGO_TIME) center.classList.add('show-logo');
  else center.classList.remove('show-logo');
});

video.addEventListener('ended', () => {
  center.classList.remove('show-logo');
  video.currentTime = 0;
  video.play().catch(() => {});
});

/* =====================
   SPONSORS INIT (infinite + auto drift + manual)
===================== */
(function initSponsors() {
  const host = document.getElementById('sponsors');
  const A = document.getElementById('sponsorsA');
  const B = document.getElementById('sponsorsB');

  if (!host || !A || !B) {
    sponsorsReady = true;
    hideLoader();
    return;
  }

  const candidates = Array.from({ length: 10 }, (_, i) => `sponsor${i + 1}.png`);
  const loaded = [];
  let checked = 0;
  let loopWidth = 0;

  candidates.forEach((src) => {
    const img = new Image();
    img.onload = () => { loaded.push(src); done(); };
    img.onerror = () => done();
    img.src = src;
  });

  function done() {
    checked++;
    if (checked === candidates.length) build();
  }

  function build() {
    if (!loaded.length) {
      sponsorsReady = true;
      hideLoader();
      return;
    }

    host.style.display = 'block';

    // repeat to make the strip long enough
    const min = 12;
    const list = [];
    while (list.length < min) {
      for (const s of loaded) {
        list.push(s);
        if (list.length >= min) break;
      }
    }

    A.innerHTML = list.map((s, i) => (
      `<div class="sponsor"><img src="${s}" alt="Sponsor ${i + 1}" loading="lazy"></div>`
    )).join('');

    B.innerHTML = A.innerHTML;

    // After DOM paints, compute width and mark ready
    requestAnimationFrame(() => {
      // Use scrollWidth (real content width), not boundingClientRect (can be affected by transforms)
      loopWidth = A.scrollWidth;
      // Start in the middle copy so you can scroll infinitely both ways
      host.scrollLeft = loopWidth;
      sponsorsReady = true;
      hideLoader();
    });

    // Keep scrollLeft centered in the middle copy (true bidirectional infinite)
    function normalizeScroll() {
      if (!loopWidth) return;
      // If user goes too far left/right, snap back by one loopWidth (seamless)
      if (host.scrollLeft < loopWidth * 0.5) host.scrollLeft += loopWidth;
      else if (host.scrollLeft > loopWidth * 1.5) host.scrollLeft -= loopWidth;
    }

    // Manual infinite wrap (both directions)
    let ticking = false;
    host.addEventListener('scroll', () => {
      if (ticking) return;
      ticking = true;
      requestAnimationFrame(() => {
        ticking = false;
        normalizeScroll();
      });
    }, { passive: true });

    // Auto drift: continuous left ↔ right + uses the same normalizer (so it stays infinite both ways)
    const autoSpeed = 0.25; // px per frame
    let direction = 1; // 1 right, -1 left
    let lastUserScroll = Date.now();

    host.addEventListener('touchstart', () => { lastUserScroll = Date.now(); }, { passive: true });
    host.addEventListener('wheel', () => { lastUserScroll = Date.now(); }, { passive: true });
    host.addEventListener('pointerdown', () => { lastUserScroll = Date.now(); }, { passive: true });

    function autoScroll() {
      if (loopWidth) {
        if (Date.now() - lastUserScroll > 3000) {
          host.scrollLeft += autoSpeed * direction;
          // keep us centered in the middle copy
          normalizeScroll();

          // reverse smoothly (doesn't depend on hard edges)
          if (host.scrollLeft > loopWidth * 1.35) direction = -1;
          else if (host.scrollLeft < loopWidth * 0.65) direction = 1;
        }
      }
      requestAnimationFrame(autoScroll);
    }

    requestAnimationFrame(autoScroll);
    }

    requestAnimationFrame(autoScroll);
  }
})();

// =====================
// VISIT TRACKING (unique per day, NO refresh spam)
// =====================
(function trackVisit() {
  try {
    const KEY = 'fc_vid';
    let vid = localStorage.getItem(KEY);
    if (!vid || vid.length < 12) {
      vid = (crypto && crypto.randomUUID)
        ? crypto.randomUUID()
        : String(Date.now()) + '_' + Math.random().toString(16).slice(2);
      localStorage.setItem(KEY, vid);
    }

    fetch('https://cool-haze-b97a.tanzaniagetaway-info.workers.dev/visit', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ vid }),
      keepalive: true
    }).catch(() => {});
  } catch (_) {
    fetch('https://cool-haze-b97a.tanzaniagetaway-info.workers.dev/visit', {
      method: 'POST',
      keepalive: true
    }).catch(() => {});
  }
})();
</script>

</body>
</html>
